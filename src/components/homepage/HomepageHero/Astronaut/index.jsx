import React, { useState, useEffect } from 'react';
import PropTypes from 'prop-types';

import AstronautContainer from './Astronaut.styles';

export default function Astronaut({ className }) {
  const [coordinates, setCoordinates] = useState({
    start: {
      x: 0,
      y: 0,
      rotateZ: '0deg',
    },
    end: {
      x: 0,
      y: 0,
      rotateZ: '0deg',
    },
  });

  let animationInterval;

  const setNewCoordinates = () => {
    setCoordinates((prevCoordinates) => ({
      start: prevCoordinates.end,
      end: {
        x: `${Math.random() * 50 + 5}%`,
        y: `${Math.random() * 50 + 5}%`,
        rotateZ: `${Math.random() * 120 + 30}deg`,
      },
    }));
  };

  useEffect(() => {
    setNewCoordinates();
    // eslint-disable-next-line react-hooks/exhaustive-deps
    animationInterval = setInterval(() => {
      setNewCoordinates();
    }, 20000);

    return () => {
      clearInterval(animationInterval);
      setNewCoordinates();
    };
  }, []);

  return (
    <AstronautContainer
      width="379"
      height="263"
      viewBox="0 0 379 263"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      className={className}
      coordinates={coordinates}
      alt="Space icons created by Freepik - Flaticon https://www.flaticon.com/free-icons/space"
    >
      <path
        d="M134.979 51.085C135.445 52.53 135.825 54.016 136.109 55.5C136.475 57.416 138.152 58.749 140.033 58.749C140.283 58.749 140.536 58.726 140.79 58.677C142.96 58.262 144.382 56.166 143.967 53.996C143.621 52.191 143.159 50.386 142.593 48.63C141.916 46.528 139.665 45.371 137.559 46.051C135.455 46.729 134.3 48.983 134.979 51.085Z"
        fill="black"
      />
      <path
        d="M94.22 20.218C94.216 22.427 96.004 24.221 98.213 24.225C109.763 24.245 121.075 29.774 128.474 39.017C129.264 40.003 130.426 40.517 131.6 40.517C132.476 40.517 133.359 40.23 134.097 39.64C135.822 38.259 136.1 35.742 134.72 34.017C125.821 22.9 112.178 16.248 98.227 16.225C98.224 16.225 98.222 16.225 98.22 16.225C96.014 16.225 94.224 18.011 94.22 20.218Z"
        fill="black"
      />
      <path
        d="M111.556 155.147H93.583C91.374 155.147 89.583 156.938 89.583 159.147C89.583 161.356 91.374 163.147 93.583 163.147H111.556C113.765 163.147 115.556 161.356 115.556 159.147C115.556 156.938 113.765 155.147 111.556 155.147Z"
        fill="black"
      />
      <path
        d="M377.673 184.822L365.406 172.554C357.556 164.704 345.323 163.849 336.516 169.976L328.501 161.962C329.707 162.122 330.52 162.228 330.563 162.228C331.432 162.228 332.283 161.945 332.983 161.414C333.828 160.771 334.382 159.82 334.526 158.769L344.477 85.846C344.776 83.658 343.245 81.641 341.056 81.342L323.86 78.99C312.86 77.489 302.604 84.218 299.299 94.426L260.479 89.131C257.73 88.755 254.987 88.646 252.275 88.78V71.097C252.275 62.674 248.996 54.765 243.049 48.831C237.118 42.886 229.213 39.611 220.789 39.611C212.38 39.611 204.474 42.886 198.527 48.835C192.581 54.784 189.309 62.691 189.316 71.097V92.451H173.844L157.978 76.584C159.138 71.858 159.766 66.925 159.766 61.846C159.766 27.744 132.022 0 97.92 0C66.845 0 41.06 23.04 36.725 52.932L8.235 81.422C2.925 86.732 0 93.793 0 101.304C0 108.814 2.925 115.875 8.236 121.186L72.837 185.787V192.481C72.837 216.738 92.571 236.472 116.827 236.472H123.108L126.267 239.629C141.692 255.054 161.946 262.764 182.207 262.764C202.464 262.764 222.728 255.05 238.148 239.629L277.706 200.215L319.975 242.52C320.756 243.301 321.78 243.692 322.803 243.692C323.826 243.692 324.851 243.301 325.631 242.52L377.673 190.478C379.235 188.917 379.235 186.383 377.673 184.822ZM281.706 192.902V162.623C287.985 161.773 294.044 158.945 298.858 154.13C300.648 152.341 302.175 150.36 303.446 148.221L320.739 165.513L287.528 198.724L281.706 192.902ZM235.134 153.739L217.718 136.323L218.875 127.856C218.88 127.819 218.887 127.784 218.893 127.748C221.228 128.892 223.709 129.732 226.318 130.245C228.267 130.628 230.223 130.817 232.166 130.817C236.836 130.817 241.417 129.705 245.609 127.58L252.837 137.09C250.629 138.611 248.537 140.336 246.601 142.273L235.134 153.739ZM253.726 96.733C254.242 99.49 254.231 102.283 253.686 105.055C252.553 110.82 249.243 115.798 244.365 119.074C239.487 122.35 233.628 123.532 227.861 122.396C225.389 121.91 223.073 121.029 220.949 119.778C223.319 113.593 227.357 108.17 232.76 104.062C238.888 99.403 246.175 96.885 253.726 96.733ZM277.706 129.387C271.465 129.387 265.428 130.69 259.888 133.146L252.224 123.063C257.013 118.751 260.271 113.035 261.536 106.599C262.138 103.537 262.253 100.457 261.904 97.4L284.029 100.418L280.075 129.455C279.289 129.412 278.5 129.387 277.706 129.387ZM277.706 137.387C284.71 137.387 291.404 139.383 297.153 143.091C296.12 145.068 294.802 146.873 293.202 148.473C284.626 157.048 270.672 157.049 262.096 148.473C260.503 146.88 259.195 145.093 258.172 143.146C263.941 139.402 270.667 137.387 277.706 137.387ZM327.142 153.723L320.815 152.858L329.691 87.862L336.011 88.726L327.142 153.723ZM301.831 102.845C304.03 103.132 306.036 101.611 306.334 99.422C307.376 91.786 314.179 86.341 321.758 86.831L313.54 147.001L308.811 142.272C302.985 136.446 295.811 132.463 287.994 130.598L291.956 101.497L301.831 102.845ZM227.919 97.693C222.761 101.614 218.621 106.518 215.672 112.077L197.317 93.722C197.317 93.722 197.327 70.469 197.339 70.158H244.252C244.264 70.471 244.275 89.928 244.275 89.928C238.418 91.33 232.859 93.938 227.919 97.693ZM220.79 47.612C227.073 47.612 232.967 50.051 237.393 54.489C239.628 56.718 241.356 59.322 242.522 62.158H199.067C200.231 59.325 201.956 56.723 204.187 54.491C208.621 50.055 214.518 47.612 220.79 47.612ZM192.733 100.451C192.733 100.451 212.218 119.894 212.414 120.03C211.76 122.218 211.264 124.469 210.95 126.775L210.616 129.222L181.846 100.452H192.733V100.451ZM229.478 159.396L217.162 171.711L146.062 100.612C149.82 95.955 152.913 90.745 155.206 85.123L229.478 159.396ZM151.768 61.846C151.768 63.708 151.673 65.548 151.487 67.362C138.367 80.111 120.648 85.5 105.37 81.539C105.077 76.524 103.008 71.845 99.425 68.264C95.554 64.392 90.407 62.26 84.933 62.26C84.055 62.26 83.189 62.335 82.332 62.443C74.801 46.107 79.751 24.809 94.939 9.622C95.501 9.06 96.052 8.537 96.596 8.035C97.038 8.024 97.478 8.001 97.923 8.001C127.612 8.001 151.768 32.156 151.768 61.846ZM84.933 70.26C88.27 70.26 91.409 71.56 93.769 73.92C96.129 76.28 97.429 79.419 97.429 82.757C97.429 86.095 96.129 89.233 93.769 91.593C91.409 93.953 88.27 95.253 84.933 95.253C81.595 95.253 78.456 93.953 76.096 91.592C73.736 89.233 72.436 86.095 72.436 82.757C72.436 79.419 73.736 76.28 76.096 73.92C78.456 71.56 81.595 70.26 84.933 70.26ZM84.094 9.809C70.911 26.511 67.208 47.847 74.708 65.009C73.171 65.898 71.729 66.975 70.44 68.265C66.568 72.136 64.436 77.284 64.436 82.758C64.436 88.232 66.569 93.38 70.44 97.25C74.311 101.122 79.458 103.254 84.933 103.254C90.408 103.254 95.554 101.122 99.425 97.251C101.644 95.032 103.269 92.386 104.272 89.507C107.945 90.379 111.721 90.813 115.535 90.813C126.837 90.813 138.452 87.06 148.591 80.061C141.108 100.815 121.223 115.694 97.923 115.694C68.232 115.694 44.076 91.539 44.076 61.847C44.075 36.936 61.083 15.929 84.094 9.809ZM72.837 134.994L19.407 81.564L36.15 64.821C37.287 88.721 52.059 109.097 72.836 118.357V134.994H72.837ZM30.293 131.93L44.377 117.846L50.685 124.154L36.601 138.238L30.293 131.93ZM8 101.304C8 95.997 10.048 91.01 13.758 87.227L38.721 112.19L24.637 126.274L13.893 115.53C10.093 111.73 8 106.677 8 101.304ZM42.257 143.894L56.341 129.81L72.837 146.306V174.474L42.257 143.894ZM81.389 198.716C89.106 195.19 98.251 196.74 104.39 202.878C110.869 209.357 112.158 219.47 107.83 227.333C94.295 223.836 83.832 212.639 81.389 198.716ZM116.176 228.456C119.936 219.6 118.974 209.452 113.526 201.44L133.46 181.505H157.162C157.476 181.505 157.787 181.517 158.099 181.529V228.449C157.788 228.46 116.393 228.46 116.176 228.456ZM180.646 204.989C180.646 214.775 174.628 223.178 166.099 226.701V183.275C174.627 186.799 180.646 195.203 180.646 204.989ZM232.492 233.973C205.624 260.838 162.432 261.672 134.553 236.472H157.162C174.522 236.472 188.645 222.349 188.645 204.989C188.645 187.629 174.522 173.505 157.162 173.505H135.804V129.145C135.804 126.936 134.013 125.145 131.804 125.145C129.595 125.145 127.804 126.936 127.804 129.145V175.849L108.156 195.497C100.478 189.065 90.139 187.215 80.837 190.345V121.274C86.268 122.837 91.995 123.693 97.922 123.693C114.481 123.693 129.529 117.139 140.641 106.504L211.505 177.367L201.814 187.058C200.251 188.62 200.251 191.153 201.814 192.714C203.375 194.277 205.91 194.277 207.47 192.714L251.892 148.293C253.151 150.399 254.664 152.355 256.438 154.129C261.283 158.974 267.387 161.805 273.706 162.636V192.902L232.492 233.973ZM293.185 204.379L326.396 171.169L333.438 178.211C335.001 179.774 337.534 179.774 339.094 178.211C344.543 172.764 353.251 172.543 358.983 177.518L312.634 223.866L293.185 204.379ZM322.803 234.035L318.29 229.522L364.676 183.137L369.188 187.65L322.803 234.035Z"
        fill="black"
      />
    </AstronautContainer>
  );
}

Astronaut.propTypes = {
  className: PropTypes.string,
};

Astronaut.defaultProps = {
  className: '',
};
